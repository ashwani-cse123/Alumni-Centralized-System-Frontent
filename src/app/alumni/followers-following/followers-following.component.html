<div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-lg p-6">

  <!-- Top Counts -->
  <div class="flex justify-center gap-16 mb-6 text-center">
    <div>
      <p class="text-2xl font-bold text-gray-800">{{followerCount}} </p>
      <p class="text-sm text-gray-500">Followers</p>
    </div>
    <div>
      <p class="text-2xl font-bold text-gray-800">{{followingCount}}</p>
      <p class="text-sm text-gray-500">Following</p>
    </div>
  </div>

  <!-- Tables -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

    <!-- Followers Table -->
    <div>
      <h3 class="font-semibold text-gray-700 mb-3">Followers</h3>

      <div class="overflow-x-auto">
        <table class="w-full border border-gray-200 rounded-lg overflow-hidden">
          <thead class="bg-gray-100 text-sm text-gray-600">
            <tr>
              <th class="p-3 text-left">#</th>
              <th class="p-3 text-left">Profile</th>
              <th class="p-3 text-left">Name</th>
              <th class="p-3 text-center">Action</th>
            </tr>
          </thead>
          <tbody class="text-sm">

            @for (item of followerObj; track item; let i = $index) {
            <tr class="border-t hover:bg-gray-50">
              <td class="p-3">{{item.id}}</td>
              <td class="p-3">
                <img src="" [alt]="item.name" class="w-10 h-10 rounded-full object-cover" />
              </td>
              <td class="p-3 font-medium">{{item.name}}</td>
              <td class="p-3 text-center">

                <!-- FOLLOW -->
                @if (!followStatusMap.get(item.id)) {
                <button type="button" (click)="onFollowRequest(item.id)"
                  class="px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs hover:bg-indigo-700">
                  Follow
                </button>
                }

                <!-- PENDING -->
                @else if (followStatusMap.get(item.id) === 'PENDING') {
                <button type="button" disabled
                  class="px-3 py-1.5 rounded-lg bg-yellow-500 text-white text-xs cursor-not-allowed">
                  Requested
                </button>
                }

                <!-- ACCEPTED -->
                @else if (followStatusMap.get(item.id) === 'ACCEPTED') {
                <span class="text-xs text-green-600 font-medium">
                  Mutual
                </span>
                }

              </td>

            </tr>

            }
          </tbody>
        </table>
      </div>
    </div>

    <!-- Following Table -->
    <div>
      <h3 class="font-semibold text-gray-700 mb-3">Following</h3>

      <div class="overflow-x-auto">
        <table class="w-full border border-gray-200 rounded-lg overflow-hidden">
          <thead class="bg-gray-100 text-sm text-gray-600">
            <tr>
              <th class="p-3 text-left">#</th>
              <th class="p-3 text-left">Profile</th>
              <th class="p-3 text-left">Name</th>
              <th class="p-3 text-center">Action</th>
            </tr>
          </thead>
          <tbody class="text-sm">

            @for (item of followingObj; let i = $index; track item) {
            <tr class="border-t hover:bg-gray-50">
              <td class="p-3">{{item.id}}</td>
              <td class="p-3">
                <img src="" [alt]="item.name" class="w-10 h-10 rounded-full object-cover" />
              </td>
              <td class="p-3 font-medium">{{item.name}}</td>
              <td class="p-3 text-center">
                <button type="submit" (click)="onUnfollow(item.id)"
                  class="px-3 py-1.5 rounded-lg border border-gray-300 text-xs hover:bg-gray-100">
                  Unfollow
                </button>
              </td>
            </tr>
            }

          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>